- sensor:
    - name: "House Average Temperature"
      unique_id: house_average_temperature
      unit_of_measurement: "Â°C"
      state: >
        {% set sensors = [
          states('sensor.thermostat_temperature') | float(0),
          states('sensor.lounge_sensor_temperature') | float(0),
          states('sensor.kitchen_sensor_temperature') | float(0),
          states('sensor.hallway_sensor_temperature') | float(0),
          states('sensor.front_bedroom_sensor_temperature') | float(0),
          states('sensor.downstairs_toilet_sensor_temperature') | float(0),
          states('sensor.sensor.bathroom_sensor_temperature') | float(0)

        ] %}
        {% set valid = sensors | select('ne', 0) | list %}
        {{ (valid | sum / valid | count) | round(1) if valid | count > 0 else 0 }}